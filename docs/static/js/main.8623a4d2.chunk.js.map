{"version":3,"sources":["models/appList/const.ts","components/desktopContainer/index.tsx","components/desktopContainer/appItem/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","models/appList/index.ts"],"names":["MOCK_APP_LIST","id","name","icon","AppItem","props","isDragging","useState","removable","setRemovable","appItem","useRef","useEffect","cb","current","addEventListener","removeEventListener","tabIndex","className","onBlur","onContextMenu","e","preventDefault","data-long-press-delay","ref","style","width","height","onClick","onDel","backgroundImage","DEFAULT_PAGE_NUM","Math","ceil","length","appListGroup","i","push","slice","DesktopContainer","autoPlay","swipeable","map","appList","index","items","SortablePage","setAppList","setIsDragging","margin","onMouseDown","stopPropagation","onMouseUp","group","list","setList","animation","delayOnTouchOnly","delay","onStart","evt","onEnd","app","prevAppList","newList","splice","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0HAEA,kCAGO,IAAMA,EAAyB,CAClC,CAAEC,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,EAAGC,KAAM,QAASC,KAAM,IAC9B,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KAAM,IAChC,CAAEF,GAAI,GAAIC,KAAM,SAAUC,KA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","file":"static/js/main.8623a4d2.chunk.js","sourcesContent":["import type { AppList } from './interface';\n\n/**\n * 模拟数据\n */\nexport const MOCK_APP_LIST: AppList = [\n    { id: 1, name: 'app_1', icon: '' },\n    { id: 2, name: 'app_2', icon: '' },\n    { id: 3, name: 'app_3', icon: '' },\n    { id: 4, name: 'app_4', icon: '' },\n    { id: 5, name: 'app_5', icon: '' },\n    { id: 6, name: 'app_6', icon: '' },\n    { id: 7, name: 'app_7', icon: '' },\n    { id: 8, name: 'app_8', icon: '' },\n    { id: 9, name: 'app_9', icon: '' },\n    { id: 10, name: 'app_10', icon: '' },\n    { id: 11, name: 'app_11', icon: '' },\n    { id: 12, name: 'app_12', icon: '' },\n    { id: 13, name: 'app_13', icon: '' },\n    { id: 14, name: 'app_14', icon: '' },\n    { id: 15, name: 'app_15', icon: '' },\n    { id: 16, name: 'app_16', icon: '' },\n    { id: 17, name: 'app_17', icon: '' },\n    { id: 18, name: 'app_18', icon: '' },\n    { id: 19, name: 'app_19', icon: '' },\n    { id: 20, name: 'app_20', icon: '' },\n    { id: 21, name: 'app_21', icon: '' },\n    { id: 22, name: 'app_22', icon: '' },\n    { id: 23, name: 'app_23', icon: '' },\n    { id: 24, name: 'app_24', icon: '' },\n    { id: 25, name: 'app_25', icon: '' },\n    { id: 26, name: 'app_26', icon: '' },\n    { id: 27, name: 'app_27', icon: '' },\n    { id: 28, name: 'app_28', icon: '' },\n    { id: 29, name: 'app_29', icon: '' },\n    { id: 30, name: 'app_30', icon: '' },\n    { id: 31, name: 'app_31', icon: '' },\n    { id: 32, name: 'app_32', icon: '' },\n    { id: 33, name: 'app_33', icon: '' },\n    { id: 34, name: 'app_34', icon: '' },\n    { id: 35, name: 'app_35', icon: '' },\n    { id: 36, name: 'app_36', icon: '' },\n    { id: 37, name: 'app_37', icon: '' },\n    { id: 38, name: 'app_38', icon: '' },\n    { id: 39, name: 'app_39', icon: '' },\n    { id: 40, name: 'app_40', icon: '' },\n    { id: 41, name: 'app_41', icon: '' },\n    { id: 42, name: 'app_42', icon: '' },\n    { id: 43, name: 'app_43', icon: '' },\n    { id: 44, name: 'app_44', icon: '' },\n    { id: 45, name: 'app_45', icon: '' },\n    { id: 46, name: 'app_46', icon: '' },\n    { id: 47, name: 'app_47', icon: '' },\n    { id: 48, name: 'app_48', icon: '' },\n    { id: 49, name: 'app_49', icon: '' },\n    { id: 50, name: 'app_50', icon: '' },\n    { id: 51, name: 'app_51', icon: '' },\n    { id: 52, name: 'app_52', icon: '' },\n    { id: 53, name: 'app_53', icon: '' },\n    { id: 54, name: 'app_54', icon: '' },\n    { id: 55, name: 'app_55', icon: '' },\n    { id: 56, name: 'app_56', icon: '' },\n    { id: 57, name: 'app_57', icon: '' },\n    { id: 58, name: 'app_58', icon: '' },\n    { id: 59, name: 'app_59', icon: '' },\n    { id: 60, name: 'app_60', icon: '' },\n    { id: 61, name: 'app_61', icon: '' },\n    { id: 62, name: 'app_62', icon: '' },\n    { id: 63, name: 'app_63', icon: '' },\n    { id: 64, name: 'app_64', icon: '' },\n    { id: 65, name: 'app_65', icon: '' },\n    { id: 66, name: 'app_66', icon: '' },\n];","import React, { useState } from 'react';\nimport { ReactSortable } from \"react-sortablejs\";\nimport { AppItem } from './appItem';\nimport { Carousel } from 'react-responsive-carousel';\nimport { AppList, MOCK_APP_LIST } from '../../models/appList'\n\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\nimport './style.css';\n\n// 默认每页app数量\nconst PAGE_ITEM_NUM = 30;\nconst DEFAULT_PAGE_NUM = Math.ceil(MOCK_APP_LIST.length / PAGE_ITEM_NUM);;\nconst appListGroup: AppList[] = [];\nfor (let i = 0; i < DEFAULT_PAGE_NUM; i++) {\n    appListGroup.push(MOCK_APP_LIST.slice(PAGE_ITEM_NUM * i, PAGE_ITEM_NUM * (i + 1)));\n}\n\nexport const DesktopContainer = () => {\n    return <div className=\"desktop-container\">\n        <Carousel\n            autoPlay={false}\n            swipeable={false}\n        >\n            {appListGroup.map((appList, index) => {\n                return <SortablePage key={index} items={appList} />\n            })}\n        </Carousel>\n    </div>\n};\n\nconst SortablePage = ((props: { items: AppList }) => {\n    const [appList, setAppList] = useState(props.items);\n    const [isDragging, setIsDragging] = useState(false);\n\n    return <div style={{ margin: '0 1vw' }} onMouseDown={(e) => { e.stopPropagation() }} onMouseUp={(e) => { e.stopPropagation() }}>\n        <ReactSortable\n            group=\"test\"\n            list={appList} setList={setAppList}\n            animation={200}\n            delayOnTouchOnly\n            delay={100}\n            onStart={(evt) => {\n                setIsDragging(true);\n            }}\n            onEnd={(evt) => {\n                setIsDragging(false);\n            }}\n        >\n            {appList.map((app, index) => {\n                return <AppItem key={app.id} isDragging={isDragging} name={app.name} icon={app.icon} onDel={() => {\n                    setAppList((prevAppList) => {\n                        const newList = prevAppList.slice();\n                        newList.splice(index, 1);\n                        return newList;\n                    });\n                }} />\n            })}\n        </ReactSortable>\n    </div>\n})","import React, { useEffect, useRef, useState } from 'react';\n\nimport './style.css';\n\nexport const AppItem = (props: { name: string, icon: string, onDel:React.MouseEventHandler<HTMLSpanElement>, isDragging:boolean }) => {\n    const { name, icon, isDragging } = props;\n    const [removable, setRemovable] = useState(false);\n    const appItem = useRef<HTMLDivElement>(null);\n    useEffect(() => {\n        if (isDragging) {\n            setRemovable(false);\n        }\n    }, [isDragging]);\n    useEffect(() => {\n        const cb = () => {\n            if (isDragging) {\n                return;\n            }\n            setRemovable(true);\n        };\n        appItem.current && appItem.current.addEventListener('long-press', cb);\n        return () => {\n            appItem.current && appItem.current.removeEventListener('long-press', cb);\n        }\n    }, [])\n    \n    return <div tabIndex={-1} className=\"app-item-wrap\" onBlur={() => setRemovable(false)}\n        onContextMenu={(e) => {\n            e.preventDefault();\n        }\n    }>\n        <div data-long-press-delay=\"1000\" ref={appItem} className={`app-item ${!isDragging && removable ? 'removable' : ''}`}style={{width: '100%', height: '100%'}}>\n        <span className=\"del-icon\" onClick={props.onDel}>X</span>\n        <div className=\"app-icon\" style={{ backgroundImage: icon }} />\n        <div className=\"app-name\">{name}</div>\n        </div>\n    </div>\n};","import React from 'react';\nimport { DesktopContainer } from './components/desktopContainer'\n\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <DesktopContainer />\n      <div className=\"title\">Socialbook Test, Yuxiang Zhang</div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'long-press-event/dist/long-press-event.min.js';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n","export * from './interface';\nexport * from './const';"],"sourceRoot":""}